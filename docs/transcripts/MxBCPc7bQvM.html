<section>
<p><span data-start="0.56" data-end="3.41">[Music]</span> <span data-start="3.41" data-end="6.14">[Applause]</span> <span data-start="6.14" data-end="11.63">[Music]</span> <span data-start="11.63" data-end="14.849">hi everyone hope you're all staying safe</span> <span data-start="14.849" data-end="17.25">my name is Usain journey and I'm a</span> <span data-start="17.25" data-end="19.32">developer advocate on the web team at</span> </p>
<p><span data-start="19.32" data-end="22.83">Google for this segment of web dev live</span> <span data-start="22.83" data-end="24.779">we want to talk about different ways to</span> <span data-start="24.779" data-end="27.48">explore and analyze JavaScript undos on</span> <span data-start="27.48" data-end="30.929">a web page analyzing bundles is a good</span> <span data-start="30.929" data-end="33.39">first step to optimizing the amount of</span> <span data-start="33.39" data-end="36.27">JavaScript shipped to the browser which</span> <span data-start="36.27" data-end="38.969">can improve page load times and directly</span> <span data-start="38.969" data-end="41.219">result in better large example paint and</span> <span data-start="41.219" data-end="44.55">first input delay jobs the bundling is a</span> <span data-start="44.55" data-end="46.86">term commonly used to describe the</span> <span data-start="46.86" data-end="49.17">approach many websites take to group</span> <span data-start="49.17" data-end="51.3">multiple job script files or modules</span> <span data-start="51.3" data-end="54.66">into a single file or bundle</span> <span data-start="54.66" data-end="56.789">many tools that bundle JavaScript code</span> <span data-start="56.789" data-end="59.16">for the browser usually include a number</span> <span data-start="59.16" data-end="61.17">of different optimization steps such as</span> <span data-start="61.17" data-end="63.93">minification and sculpt wasting this is</span> <span data-start="63.93" data-end="65.64">a good thing because code written across</span> <span data-start="65.64" data-end="67.95">multiple files and modules can be</span> <span data-start="67.95" data-end="70.619">combined into a single optimized bundle</span> <span data-start="70.619" data-end="72.72">although this might be useful from a</span> <span data-start="72.72" data-end="74.13">developer and user experience standpoint</span> <span data-start="74.13" data-end="76.86">this process usually obvi skates</span> </p>
<p><span data-start="76.86" data-end="79.02">JavaScript code to the extent that it</span> <span data-start="79.02" data-end="80.64">can't easily be read and analyzed</span> <span data-start="80.64" data-end="82.83">without the help of additional tooling</span> <span data-start="82.83" data-end="85.439">let's take a look at some examples to</span> <span data-start="85.439" data-end="87.72">get a better idea if you're using Chrome</span> <span data-start="87.72" data-end="89.939">the network panel on the dev tools is</span> <span data-start="89.939" data-end="91.89">the easiest way to look at all the</span> </p>
<p><span data-start="91.89" data-end="94.77">JavaScript downloaded on a page open dev</span> <span data-start="94.77" data-end="97.22">tools by pressing ctrl shift J or</span> <span data-start="97.22" data-end="99.57">command obviously J on the Mac and click</span> <span data-start="99.57" data-end="102.479">the network tab to open the network</span> <span data-start="102.479" data-end="104.85">panel to take a look at all the network</span> <span data-start="104.85" data-end="106.979">activity during page load reload the</span> <span data-start="106.979" data-end="108.659">page while dev tools is still open</span> <span data-start="108.659" data-end="111.03">click the dogs good button to filter</span> <span data-start="111.03" data-end="114.24">requests by JavaScript and click any URL</span> <span data-start="114.24" data-end="117.149">to view the response by the format</span> <span data-start="117.149" data-end="119.159">button can make a minify file more</span> <span data-start="119.159" data-end="121.649">readable notice how with this simple</span> <span data-start="121.649" data-end="123.99">static site there's only a single jobs</span> <span data-start="123.99" data-end="126.63">file and although minified it's easily</span> <span data-start="126.63" data-end="129.569">human readable if we do the same for a</span> <span data-start="129.569" data-end="132.03">site that bundles the JavaScript code it</span> <span data-start="132.03" data-end="133.55">gets harder try</span> <span data-start="133.55" data-end="135.59">understand exactly what lives in the</span> <span data-start="135.59" data-end="138.59">bundle this is an example of a site that</span> <span data-start="138.59" data-end="140.63">bundles many third-party libraries and</span> <span data-start="140.63" data-end="142.79">hundreds of first party modules into</span> <span data-start="142.79" data-end="146.69">just a few discrete bundles so let's</span> <span data-start="146.69" data-end="148.94">take a look at some ways to analyze this</span> <span data-start="148.94" data-end="151.88">code the coverage tab can show you how</span> <span data-start="151.88" data-end="154.22">my JavaScript code is unused in any of</span> <span data-start="154.22" data-end="156.59">your files or bundles directly in dev</span> <span data-start="156.59" data-end="159.11">tools open the command menu with ctrl</span> <span data-start="159.11" data-end="162.68">shift P or command C SP for Mac type</span> <span data-start="162.68" data-end="164.84">coverage and select the show coverage</span> <span data-start="164.84" data-end="167.24">command click the reload button to</span> <span data-start="167.24" data-end="169.46">reload the page while capturing coverage</span> <span data-start="169.46" data-end="171.28">and in a drop-down menu select</span> </p>
<p><span data-start="171.28" data-end="175.28">JavaScript and the table the unused</span> <span data-start="175.28" data-end="177.47">bytes field shows exactly how much</span> <span data-start="177.47" data-end="180.08">javascript is unused for each file click</span> <span data-start="180.08" data-end="183.55">any URL to see a line by line break them</span> <span data-start="183.55" data-end="186.59">so although the coverage tab gives us a</span> <span data-start="186.59" data-end="188.99">lens of how much code is being used on a</span> <span data-start="188.99" data-end="189.71">page</span> <span data-start="189.71" data-end="192.38">it still isn't easy to identify which</span> <span data-start="192.38" data-end="195.5">modules make up the bundle now there are</span> <span data-start="195.5" data-end="197.03">other tools out there to make this</span> <span data-start="197.03" data-end="199.58">possible if you're already bundling code</span> <span data-start="199.58" data-end="201.65">for your site chances are you're using a</span> <span data-start="201.65" data-end="203.66">module bundler like web pack or roll-up</span> <span data-start="203.66" data-end="205.31">and many of these module by lenders</span> <span data-start="205.31" data-end="207.08">provide either first-class or a</span> <span data-start="207.08" data-end="209.54">third-party tooling that you can use to</span> <span data-start="209.54" data-end="212.18">visualize and map your bundles let's go</span> <span data-start="212.18" data-end="214.52">over an example if you use webpack you</span> <span data-start="214.52" data-end="216.62">can generate a staff JSON file that</span> <span data-start="216.62" data-end="218.989">contains statistics about all bundled</span> <span data-start="218.989" data-end="222.41">modules a single CLI command omits the</span> <span data-start="222.41" data-end="223.3">file</span> <span data-start="223.3" data-end="225.86">although reading this file yourself can</span> <span data-start="225.86" data-end="227">give us some information about what</span> <span data-start="227" data-end="229.13">modules live in the bundle there are</span> <span data-start="229.13" data-end="230.66">community build libraries that can</span> <span data-start="230.66" data-end="232.88">consume this file and display a more</span> <span data-start="232.88" data-end="234.89">useful visualization</span> <span data-start="234.89" data-end="237.29">one such library is called WebP at bonds</span> <span data-start="237.29" data-end="239.81">landlines and it works by parsing the</span> <span data-start="239.81" data-end="241.73">bundles generated by web pack and then</span> <span data-start="241.73" data-end="244.19">mapping them to the module names in this</span> <span data-start="244.19" data-end="245.45">task JSON file</span> <span data-start="245.45" data-end="247.97">by doing this it creates an interactive</span> <span data-start="247.97" data-end="250.34">tree map visualization of an entire</span> <span data-start="250.34" data-end="252.8">bundle showing the sizes of each module</span> <span data-start="252.8" data-end="256.12">as well as the relation to each other</span> <span data-start="256.12" data-end="258.83">gzip and parse sizes are also displayed</span> <span data-start="258.83" data-end="261.44">to give you a better idea of how large</span> <span data-start="261.44" data-end="266.15">each of the modules are bundler specific</span> <span data-start="266.15" data-end="267.32">visualization tools</span> </p>
<p><span data-start="267.32" data-end="269.75">Green they make it easier to see what</span> <span data-start="269.75" data-end="272.78">makes up each of your bundles but they</span> <span data-start="272.78" data-end="275.87">are blunder specific for any site</span> <span data-start="275.87" data-end="277.97">regardless of whether a specific module</span> <span data-start="277.97" data-end="281.15">Bunder is used or not source maps are a</span> <span data-start="281.15" data-end="283.82">way to map original written code to</span> <span data-start="283.82" data-end="286.04">transform the output this is useful</span> <span data-start="286.04" data-end="288.62">because it allow us to continue to</span> <span data-start="288.62" data-end="291.17">obfuscate and transform our code during</span> <span data-start="291.17" data-end="293.69">the build process but still have a means</span> <span data-start="293.69" data-end="296.45">to map it back to its original form</span> <span data-start="296.45" data-end="298.19">Java's new files that have been</span> <span data-start="298.19" data-end="300.44">transformed Duty minification or other</span> <span data-start="300.44" data-end="303.02">bundling optimizations need to point to</span> <span data-start="303.02" data-end="305.6">the location of a source map file with a</span> <span data-start="305.6" data-end="308.6">source mapping URL comment or a source</span> <span data-start="308.6" data-end="311.72">map HTTP header all newer browsers</span> <span data-start="311.72" data-end="315.11">support source maps and with chrome you</span> <span data-start="315.11" data-end="316.91">can enable it in the dev tools by</span> <span data-start="316.91" data-end="319.1">opening up settings and checking the</span> <span data-start="319.1" data-end="321.11">enable JavaScript source Maps option</span> <span data-start="321.11" data-end="323.54">when chrome can detect that of source</span> <span data-start="323.54" data-end="325.46">map it's available and also a message</span> <span data-start="325.46" data-end="327.95">and we're able to open and debug these</span> <span data-start="327.95" data-end="330.26">separate associated files as regular</span> </p>
<p><span data-start="330.26" data-end="333.14">JavaScript files source map Explorer is</span> <span data-start="333.14" data-end="334.88">the library that you can use to see a</span> <span data-start="334.88" data-end="337.3">tree map visualization of the bundle</span> <span data-start="337.3" data-end="340.22">this visualization is an example of</span> <span data-start="340.22" data-end="342.08">using source map Explorer with a</span> <span data-start="342.08" data-end="344.51">production tool just by looking at this</span> <span data-start="344.51" data-end="347.03">we can identify a few issues already a</span> <span data-start="347.03" data-end="350.42">few common GS models here moment J s and</span> <span data-start="350.42" data-end="353.36">lo â€” are already larger than they need</span> <span data-start="353.36" data-end="355.64">to be if they were switched to use es</span> <span data-start="355.64" data-end="357.89">modules they could be smaller and more</span> <span data-start="357.89" data-end="360.32">optimized there are duplicate copies of</span> <span data-start="360.32" data-end="363.14">react and code needed from multiple</span> <span data-start="363.14" data-end="365.3">different routes all live in this bundle</span> <span data-start="365.3" data-end="367.7">and they could easily be lazy loaded</span> <span data-start="367.7" data-end="370.49">into their own separate bundles these</span> <span data-start="370.49" data-end="372.68">are all common issues than many sites</span> <span data-start="372.68" data-end="375.44">run into and we can spot them by using a</span> <span data-start="375.44" data-end="377.42">visualization tool like source map</span> </p>
<p><span data-start="377.42" data-end="380.3">Explorer other tooling that you may</span> <span data-start="380.3" data-end="382.1">already be familiar with are also</span> <span data-start="382.1" data-end="383.96">starting to consume source maps in</span> <span data-start="383.96" data-end="386.99">different ways that can be useful light</span> <span data-start="386.99" data-end="388.94">house an open source website auditing</span> <span data-start="388.94" data-end="391.16">tool is currently experimenting with</span> <span data-start="391.16" data-end="392.9">source map support for some of these</span> <span data-start="392.9" data-end="395.57">audits with source Maps the unused</span> <span data-start="395.57" data-end="397.64">JavaScript audits to show how much</span> <span data-start="397.64" data-end="400.74">onions code and potential savings live</span> <span data-start="400.74" data-end="403.47">in bundled modules there's also a new</span> <span data-start="403.47" data-end="405.66">legacy jobs audit being developed that</span> <span data-start="405.66" data-end="407.97">takes advantage of source maps to show</span> <span data-start="407.97" data-end="409.889">legacy code within the bundle that</span> <span data-start="409.889" data-end="411.72">contains polyfills and newer browsers</span> <span data-start="411.72" data-end="414.75">don't need and there we have it we just</span> <span data-start="414.75" data-end="416.639">went over a number of different</span> <span data-start="416.639" data-end="419.46">techniques to analyze bundle JavaScript</span> <span data-start="419.46" data-end="422.82">code to recap the network panel and dev</span> <span data-start="422.82" data-end="424.919">tools is the easiest way to start seeing</span> <span data-start="424.919" data-end="427.11">how much JavaScript code is being</span> <span data-start="427.11" data-end="429.99">downloaded the coverage tab could show</span> <span data-start="429.99" data-end="432.09">you how much javascript is actually used</span> <span data-start="432.09" data-end="434.669">many module bundlers have supported</span> <span data-start="434.669" data-end="436.289">tooling and make it easier to visualize</span> <span data-start="436.289" data-end="439.02">bundles if you use webpack for example</span> <span data-start="439.02" data-end="441.57">you can administer a JSON file and use</span> <span data-start="441.57" data-end="444.03">webpack bundle analyzer consider</span> <span data-start="444.03" data-end="446.07">enabling source maps on your site and</span> <span data-start="446.07" data-end="448.53">use source map Explorer to visualize</span> <span data-start="448.53" data-end="451.32">your bundles if you'd prefer not to omit</span> <span data-start="451.32" data-end="453.21">source maps from production you can set</span> <span data-start="453.21" data-end="455.46">it up as part of your build process so</span> <span data-start="455.46" data-end="457.41">that it's only generated during</span> <span data-start="457.41" data-end="459.389">development and lighthouse is also</span> <span data-start="459.389" data-end="461.19">working collecting source maps to</span> <span data-start="461.19" data-end="462.69">display more useful audit</span> <span data-start="462.69" data-end="465.539">recommendations these changes will land</span> <span data-start="465.539" data-end="467.84">in a future version so keep an eye out</span> <span data-start="467.84" data-end="471.24">so analyzing your bundles and limiting</span> <span data-start="471.24" data-end="473.18">the amount of JavaScript in a web page</span> <span data-start="473.18" data-end="475.32">reduces the amount of time the browser</span> <span data-start="475.32" data-end="477.9">needs to spend parsing compiling and</span> <span data-start="477.9" data-end="480.479">executing JavaScript code the speeds up</span> <span data-start="480.479" data-end="483.51">how fast the browser can begin to</span> <span data-start="483.51" data-end="484.889">respond to any user interactions</span> <span data-start="484.889" data-end="487.62">improving first input delay and results</span> <span data-start="487.62" data-end="490.229">in a fast render improving largest</span> <span data-start="490.229" data-end="492.63">content paint thanks for watching I hope</span> <span data-start="492.63" data-end="496.18">you found this screencast super useful</span> <span data-start="496.18" data-end="502.68">[Music]</span> <span data-start="502.68" data-end="504.87">[Applause]</span> </p>
</section>